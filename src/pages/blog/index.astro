---
import {Image} from 'astro:assets';
import {getCollection} from 'astro:content';
import Layout from "../../layouts/Layout.astro"
import FormattedDate from '../../components/FormattedDate.astro';
const posts = (await getCollection('blog')).sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---
<Layout title='Novinky'>
  <section class="gol-container pt-10 gap-6 grid grid-cols-1 md:grid-cols-2">
	{posts.map((post) => (
    <div class="group p-10 border border-gray-900 rounded-lg hover:border-amber-300 transition-colors duration-300 ease-in-out">
			<a href={`/blog/${post.id}/`}>
				{post.data.heroImage && (<Image src={post.data.heroImage} alt="" class="rounded-lg transition-transform duration-300 ease-in-out transform group-hover:scale-[98%]"/>)}
				<h2 class="mt-4 mb-1 text-xl">{post.data.title}</h2>
				<p class="mb-3 text-sm text-amber-300">{post.data.type}<span class="text-gray-400"> | <FormattedDate date={post.data.pubDate}/></span></p>
				<p class="text-gray-300 text-base line-clamp-3">{post.data.description}</p>
			</a>
    </div>
	))}
  </section>
</Layout>
